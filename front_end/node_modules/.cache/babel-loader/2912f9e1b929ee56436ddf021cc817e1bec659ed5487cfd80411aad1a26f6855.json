{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tode_\\\\Desktop\\\\\\u0E1B2\\u0E172\\\\test_space\\\\sofware_f\\\\src\\\\Components\\\\Confirm.js\";\nimport React, { Component } from 'react';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass AppConfirm extends Component {\n  constructor() {\n    super();\n    this.sendMessage = () => {\n      const {\n        input\n      } = this.state;\n      // Emit event to the server\n      this.socket.emit('join', input);\n      this.setState({\n        id: input\n      });\n    };\n    this.sendConfirm = () => {\n      // Emit event to the server\n      if (this.state.params.get(\"start\") === '1') {\n        this.socket0.emit('confirm', this.state.params.get(\"id\"));\n      } else this.socket.emit('confirm_', this.state.params.get(\"id\"));\n      // window.location.replace(window.location.origin)\n    };\n    this.sendCancel = () => {\n      // Emit event to the server\n      if (this.state.params.get(\"start\") === '1') {\n        this.socket0.emit('cancel', this.state.params.get(\"id\"));\n      } else this.socket.emit('cancel_', this.state.params.get(\"id\"));\n      // window.location.replace(window.location.origin)\n    };\n    this.handleChange = e => {\n      this.setState({\n        input: e.target.value\n      });\n    };\n    this.state = {\n      input: '',\n      messages: '',\n      params: new URLSearchParams(window.location.search)\n    };\n\n    // Connect to the Socket.IO server\n    this.socket = io('http://localhost:5001');\n    this.socket0 = io('http://localhost:5001');\n  }\n  componentDidMount() {\n    this.socket.emit('join', this.state.params.get(\"id\"));\n    if (this.state.params.get(\"start\") === '1') {\n      console.log(this.state.params.get(\"start\"));\n      this.socket0.emit('join', this.state.params.get(\"id\"));\n      this.socket0.emit('start', this.state.params.get(\"id\"));\n    }\n\n    // Listen for event from the server\n    this.socket.on('time', message => {\n      this.setState({\n        messages: message\n      });\n    });\n    this.socket.on('cancel', message => {\n      this.setState({\n        messages: message\n      });\n    });\n    this.socket.on('confirm', message => {\n      this.setState({\n        messages: message\n      });\n    });\n    this.socket.on('msg', message => {\n      this.setState({\n        messages: message\n      });\n    });\n    this.socket0.on('cancel', message => {\n      console.log(0);\n      this.socket0.emit('cancel', this.state.params.get(\"id\"));\n    });\n    this.socket0.on('confirm', message => {\n      console.log(0);\n      this.socket0.emit('confirm', this.state.params.get(\"id\"));\n    });\n  }\n  componentWillUnmount() {\n    // Disconnect from the Socket.IO server\n    this.socket.disconnect();\n    this.socket0.disconnect();\n  }\n  render() {\n    const {\n      input,\n      messages\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: input,\n        onChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.sendMessage,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.sendConfirm,\n        children: \"confirm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.sendCancel,\n        children: \"cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: messages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default AppConfirm;","map":{"version":3,"names":["React","Component","io","jsxDEV","_jsxDEV","AppConfirm","constructor","sendMessage","input","state","socket","emit","setState","id","sendConfirm","params","get","socket0","sendCancel","handleChange","e","target","value","messages","URLSearchParams","window","location","search","componentDidMount","console","log","on","message","componentWillUnmount","disconnect","render","children","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["C:/Users/tode_/Desktop/ป2ท2/test_space/sofware_f/src/Components/Confirm.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nclass AppConfirm extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      input: '',\r\n      messages: '',\r\n      params : new URLSearchParams(window.location.search)\r\n    };\r\n\r\n    // Connect to the Socket.IO server\r\n    this.socket = io('http://localhost:5001');\r\n    this.socket0 = io('http://localhost:5001');\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.socket.emit('join', this.state.params.get(\"id\"));\r\n\r\n    if(this.state.params.get(\"start\") === '1'){\r\n      console.log(this.state.params.get(\"start\"));\r\n      this.socket0.emit('join', this.state.params.get(\"id\"));\r\n      this.socket0.emit('start', this.state.params.get(\"id\"));\r\n    }\r\n\r\n    // Listen for event from the server\r\n    this.socket.on('time', (message) => {\r\n      this.setState({ messages: message });\r\n    });\r\n\r\n    this.socket.on('cancel', (message) => {\r\n      this.setState({ messages: message });\r\n    });\r\n\r\n    this.socket.on('confirm', (message) => {\r\n      this.setState({ messages: message });\r\n    });\r\n\r\n    this.socket.on('msg', (message) => {\r\n      this.setState({ messages: message });\r\n    });\r\n\r\n    this.socket0.on('cancel', (message) => {\r\n      console.log(0)\r\n      this.socket0.emit('cancel', this.state.params.get(\"id\"));\r\n    });\r\n\r\n    this.socket0.on('confirm', (message) => {\r\n      console.log(0)\r\n      this.socket0.emit('confirm', this.state.params.get(\"id\"));\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // Disconnect from the Socket.IO server\r\n    this.socket.disconnect();\r\n    this.socket0.disconnect();\r\n  }\r\n\r\n  sendMessage = () => {\r\n    const { input } = this.state;\r\n    // Emit event to the server\r\n    this.socket.emit('join', input);\r\n    this.setState({ id: input });\r\n  }\r\n\r\n  sendConfirm = () => {\r\n    // Emit event to the server\r\n    if(this.state.params.get(\"start\") === '1'){\r\n      this.socket0.emit('confirm', this.state.params.get(\"id\"));\r\n    } else\r\n    this.socket.emit('confirm_', this.state.params.get(\"id\"));\r\n    // window.location.replace(window.location.origin)\r\n  }\r\n\r\n  sendCancel = () => {\r\n    // Emit event to the server\r\n    if(this.state.params.get(\"start\") === '1'){\r\n      this.socket0.emit('cancel', this.state.params.get(\"id\"));\r\n    } else\r\n    this.socket.emit('cancel_', this.state.params.get(\"id\"));\r\n    // window.location.replace(window.location.origin)\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ input: e.target.value });\r\n  }\r\n\r\n  render() {\r\n    const { input, messages } = this.state;\r\n    return (\r\n      <div>\r\n        <input value={input} onChange={this.handleChange} />\r\n        <button onClick={this.sendMessage}>Send</button>\r\n        <button onClick={this.sendConfirm}>confirm</button>\r\n        <button onClick={this.sendCancel}>cancel</button>\r\n        <ul>\r\n          {messages}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppConfirm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}