{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tode_\\\\Desktop\\\\\\u0E1B2\\u0E172\\\\test_space\\\\sofware_f\\\\src\\\\Components\\\\Payment.js\",\n  _s = $RefreshSig$();\nimport './../Style/EditProfile.css';\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { variables } from \"../Variables\";\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AppPayment() {\n  _s();\n  const [price, setPrice] = useState(0);\n  const [order, setOrder] = useState('');\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetch(variables.API_URL + \"get_order/\" + id, {\n      method: \"GET\",\n      headers: {\n        'Accept': 'application/json, text/plain',\n        'Content-Type': 'application/json;charset=UTF-8'\n      }\n    }).then(response => response.json()).then(result => {\n      console.log(result);\n      if (result.length > 0) {\n        setOrder(result[0]);\n      }\n    });\n  }, []);\n  async function handleSubmit(e) {\n    const MySwal = withReactContent(Swal);\n    e.preventDefault();\n    if (price.toString() !== order.total_price.toString()) {\n      MySwal.fire({\n        html: '<p style=\"text-align: left; margin: 0 auto;max-width: fit-content;\">' + 'ยอดเงินไม่ตรงกัน' + '</p>',\n        icon: \"error\",\n        confirmButtonColor: \"#F07221\"\n      });\n    } else {\n      fetch(variables.API_URL + \"pay_order\", {\n        method: \"POST\",\n        headers: {\n          'Accept': 'application/json, text/plain',\n          'Content-Type': 'application/json;charset=UTF-8'\n        },\n        body: JSON.stringify({\n          id: id,\n          price: price\n        })\n      }).then(response => response.json()).then(result => {\n        if (result.msg) {\n          MySwal.fire({\n            html: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: result.msg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 35\n            }, this),\n            icon: \"success\",\n            confirmButtonColor: \"#F07221\"\n          }).then(() => {\n            navigate(\"/confirm/\" + result.order_id + \"/1\");\n          });\n        } else {\n          MySwal.fire({\n            html: '<p style=\"text-align: left; margin: 0 auto;max-width: fit-content;\">' + result.error + '</p>',\n            icon: \"error\",\n            confirmButtonColor: \"#F07221\"\n          });\n        }\n      });\n    }\n  }\n  if (order.id) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"EditProfile\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contianer-ED\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ED-frame\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            id: \"ED-form\",\n            onSubmit: e => {\n              handleSubmit(e);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"topic-ED\",\n              children: [\"Payment\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 36\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"topic-ED\",\n              children: [\"total_price : \", order.total_price, \" B\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 64\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-frame\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-frame\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input\",\n                  id: \"register-FirstName\",\n                  type: \"number\",\n                  placeholder: \"First Name\",\n                  value: price,\n                  onChange: e => setPrice(e.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"symbol\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa-solid fa-wallet\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"submit-frame\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"submit\",\n                  type: \"submit\",\n                  value: \"submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this);\n  }\n}\n_s(AppPayment, \"cyFHpTAHSkMDyUVgb6Orni+CXu8=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = AppPayment;\nexport default AppPayment;\nvar _c;\n$RefreshReg$(_c, \"AppPayment\");","map":{"version":3,"names":["Link","useParams","useNavigate","useState","useEffect","variables","Swal","withReactContent","jsxDEV","_jsxDEV","AppPayment","_s","price","setPrice","order","setOrder","id","navigate","fetch","API_URL","method","headers","then","response","json","result","console","log","length","handleSubmit","e","MySwal","preventDefault","toString","total_price","fire","html","icon","confirmButtonColor","body","JSON","stringify","msg","children","fileName","_jsxFileName","lineNumber","columnNumber","order_id","error","className","onSubmit","type","placeholder","value","onChange","target","required","_c","$RefreshReg$"],"sources":["C:/Users/tode_/Desktop/ป2ท2/test_space/sofware_f/src/Components/Payment.js"],"sourcesContent":["import './../Style/EditProfile.css';\r\nimport { Link, useParams, useNavigate } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport {variables} from \"../Variables\";\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\n\r\nfunction AppPayment(){\r\n    const [price, setPrice] = useState(0);\r\n    const [order, setOrder] = useState('');\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        fetch(variables.API_URL+\"get_order/\"+id, {\r\n            method: \"GET\",\r\n            headers: {\r\n                'Accept': 'application/json, text/plain',\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            },\r\n            })\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                console.log(result)\r\n                if(result.length > 0){\r\n                    setOrder(result[0])\r\n                }\r\n            }\r\n        )\r\n    }, [])\r\n\r\n    async function handleSubmit(e){\r\n        const MySwal = withReactContent(Swal);\r\n        e.preventDefault();\r\n        if(price.toString() !== order.total_price.toString()){\r\n            MySwal.fire({\r\n                html: \r\n                    '<p style=\"text-align: left; margin: 0 auto;max-width: fit-content;\">'+\r\n                    'ยอดเงินไม่ตรงกัน'+\r\n                    '</p>',\r\n                icon: \"error\",\r\n                confirmButtonColor: \"#F07221\"\r\n            })\r\n        }else{\r\n            fetch(variables.API_URL+\"pay_order\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Accept': 'application/json, text/plain',\r\n                    'Content-Type': 'application/json;charset=UTF-8'\r\n                },\r\n                body: JSON.stringify({\r\n                    id: id,\r\n                    price: price\r\n                }),\r\n                })\r\n                .then(response => response.json())\r\n                .then(result => {\r\n                    if(result.msg){\r\n                        MySwal.fire({\r\n                            html: <p>{result.msg}</p>,\r\n                            icon: \"success\",\r\n                            confirmButtonColor: \"#F07221\"\r\n                        }).then(() => {\r\n                            navigate(\"/confirm/\"+result.order_id+\"/1\");\r\n                        })\r\n                    } \r\n                    else{\r\n                        MySwal.fire({\r\n                            html: \r\n                                '<p style=\"text-align: left; margin: 0 auto;max-width: fit-content;\">'+\r\n                                result.error+\r\n                                '</p>',\r\n                            icon: \"error\",\r\n                            confirmButtonColor: \"#F07221\"\r\n                        })\r\n                    }\r\n                }\r\n            )\r\n        }\r\n    }\r\n\r\n    if(order.id){\r\n        return(\r\n            <div className='EditProfile'>\r\n                <div className=\"contianer-ED\">\r\n                    <div className=\"ED-frame\">\r\n                        <form id=\"ED-form\" onSubmit={(e)=>{handleSubmit(e)}}>\r\n                            <span className=\"topic-ED\">\r\n                            Payment<br />\r\n                            </span>\r\n                            <span className=\"topic-ED\">\r\n                            total_price : {order.total_price} B<br />\r\n                            </span>\r\n                            <div className=\"input-frame\">\r\n                            <div className=\"input-frame\">\r\n                                <input className=\"input\" id=\"register-FirstName\" type=\"number\"\r\n                                placeholder=\"First Name\" value={price} onChange={(e) => setPrice(e.target.value)} required/>\r\n                                <span className=\"symbol\">\r\n                                    <i className=\"fa-solid fa-wallet\"></i>\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"submit-frame\">\r\n                                <input id=\"submit\" type=\"submit\" value=\"submit\" />\r\n                            </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            );\r\n    }\r\n}\r\n\r\nexport default AppPayment;"],"mappings":";;AAAA,OAAO,4BAA4B;AACnC,SAASA,IAAI,EAAEC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AAC/D,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAAQC,SAAS,QAAO,cAAc;AACtC,OAAOC,IAAI,MAAM,aAAa;AAC9B,OAAOC,gBAAgB,MAAM,2BAA2B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAExD,SAASC,UAAUA,CAAA,EAAE;EAAAC,EAAA;EACjB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM;IAAEa;EAAG,CAAC,GAAGf,SAAS,EAAE;EAC1B,MAAMgB,QAAQ,GAAGf,WAAW,EAAE;EAE9BE,SAAS,CAAC,MAAM;IACZc,KAAK,CAACb,SAAS,CAACc,OAAO,GAAC,YAAY,GAACH,EAAE,EAAE;MACrCI,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACL,QAAQ,EAAE,8BAA8B;QACxC,cAAc,EAAE;MACpB;IACA,CAAC,CAAC,CACDC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACjCF,IAAI,CAACG,MAAM,IAAI;MACZC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;MACnB,IAAGA,MAAM,CAACG,MAAM,GAAG,CAAC,EAAC;QACjBb,QAAQ,CAACU,MAAM,CAAC,CAAC,CAAC,CAAC;MACvB;IACJ,CAAC,CACJ;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeI,YAAYA,CAACC,CAAC,EAAC;IAC1B,MAAMC,MAAM,GAAGxB,gBAAgB,CAACD,IAAI,CAAC;IACrCwB,CAAC,CAACE,cAAc,EAAE;IAClB,IAAGpB,KAAK,CAACqB,QAAQ,EAAE,KAAKnB,KAAK,CAACoB,WAAW,CAACD,QAAQ,EAAE,EAAC;MACjDF,MAAM,CAACI,IAAI,CAAC;QACRC,IAAI,EACA,sEAAsE,GACtE,kBAAkB,GAClB,MAAM;QACVC,IAAI,EAAE,OAAO;QACbC,kBAAkB,EAAE;MACxB,CAAC,CAAC;IACN,CAAC,MAAI;MACDpB,KAAK,CAACb,SAAS,CAACc,OAAO,GAAC,WAAW,EAAE;QACjCC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,QAAQ,EAAE,8BAA8B;UACxC,cAAc,EAAE;QACpB,CAAC;QACDkB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBzB,EAAE,EAAEA,EAAE;UACNJ,KAAK,EAAEA;QACX,CAAC;MACD,CAAC,CAAC,CACDU,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACjCF,IAAI,CAACG,MAAM,IAAI;QACZ,IAAGA,MAAM,CAACiB,GAAG,EAAC;UACVX,MAAM,CAACI,IAAI,CAAC;YACRC,IAAI,eAAE3B,OAAA;cAAAkC,QAAA,EAAIlB,MAAM,CAACiB;YAAG;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAAK;YACzBV,IAAI,EAAE,SAAS;YACfC,kBAAkB,EAAE;UACxB,CAAC,CAAC,CAAChB,IAAI,CAAC,MAAM;YACVL,QAAQ,CAAC,WAAW,GAACQ,MAAM,CAACuB,QAAQ,GAAC,IAAI,CAAC;UAC9C,CAAC,CAAC;QACN,CAAC,MACG;UACAjB,MAAM,CAACI,IAAI,CAAC;YACRC,IAAI,EACA,sEAAsE,GACtEX,MAAM,CAACwB,KAAK,GACZ,MAAM;YACVZ,IAAI,EAAE,OAAO;YACbC,kBAAkB,EAAE;UACxB,CAAC,CAAC;QACN;MACJ,CAAC,CACJ;IACL;EACJ;EAEA,IAAGxB,KAAK,CAACE,EAAE,EAAC;IACR,oBACIP,OAAA;MAAKyC,SAAS,EAAC,aAAa;MAAAP,QAAA,eACxBlC,OAAA;QAAKyC,SAAS,EAAC,cAAc;QAAAP,QAAA,eACzBlC,OAAA;UAAKyC,SAAS,EAAC,UAAU;UAAAP,QAAA,eACrBlC,OAAA;YAAMO,EAAE,EAAC,SAAS;YAACmC,QAAQ,EAAGrB,CAAC,IAAG;cAACD,YAAY,CAACC,CAAC,CAAC;YAAA,CAAE;YAAAa,QAAA,gBAChDlC,OAAA;cAAMyC,SAAS,EAAC,UAAU;cAAAP,QAAA,GAAC,SACpB,eAAAlC,OAAA;gBAAAmC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAM;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QACN,eACPtC,OAAA;cAAMyC,SAAS,EAAC,UAAU;cAAAP,QAAA,GAAC,gBACb,EAAC7B,KAAK,CAACoB,WAAW,EAAC,IAAE,eAAAzB,OAAA;gBAAAmC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAM;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAClC,eACPtC,OAAA;cAAKyC,SAAS,EAAC,aAAa;cAAAP,QAAA,gBAC5BlC,OAAA;gBAAKyC,SAAS,EAAC,aAAa;gBAAAP,QAAA,gBACxBlC,OAAA;kBAAOyC,SAAS,EAAC,OAAO;kBAAClC,EAAE,EAAC,oBAAoB;kBAACoC,IAAI,EAAC,QAAQ;kBAC9DC,WAAW,EAAC,YAAY;kBAACC,KAAK,EAAE1C,KAAM;kBAAC2C,QAAQ,EAAGzB,CAAC,IAAKjB,QAAQ,CAACiB,CAAC,CAAC0B,MAAM,CAACF,KAAK,CAAE;kBAACG,QAAQ;gBAAA;kBAAAb,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QAAE,eAC5FtC,OAAA;kBAAMyC,SAAS,EAAC,QAAQ;kBAAAP,QAAA,eACpBlC,OAAA;oBAAGyC,SAAS,EAAC;kBAAoB;oBAAAN,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA;gBAAK;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,QACnC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QACL,eACNtC,OAAA;gBAAKyC,SAAS,EAAC,cAAc;gBAAAP,QAAA,eACzBlC,OAAA;kBAAOO,EAAE,EAAC,QAAQ;kBAACoC,IAAI,EAAC,QAAQ;kBAACE,KAAK,EAAC;gBAAQ;kBAAAV,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA;cAAG;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAChD;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QACA;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QACH;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MACL;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IACJ;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACJ;EAEd;AACJ;AAACpC,EAAA,CAxGQD,UAAU;EAAA,QAGAT,SAAS,EACPC,WAAW;AAAA;AAAAwD,EAAA,GAJvBhD,UAAU;AA0GnB,eAAeA,UAAU;AAAC,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}